<div id="reports" class="global-card">
  <div class="d-flex align-items-center gap-2">
    <h4 class="mb-0 text-capitalize">{{'dashboard.reports.reports'|translate}}</h4>
    <span class="badge badge-main d-flex justify-content-center align-items-center">
      {{reportsCount}}
    </span>
  </div>
  <hr>

  <ng-container *ngIf="isFullLoading">
    <app-skeleton [type]="'reports'"></app-skeleton>
  </ng-container>

  <ng-container *ngIf="!isFullLoading">
    <div class="container-fluid px-0 py-2">
      <div id="customize-according">
        <ng-container *ngIf="reportsCount !==0; else noData">
          <div class="accordion" id="accordionExample">
            <ng-container *ngFor="let item of reportsList; let i = index">
              <div class="accordion-item" [class.mb-3]="i<reportsCount">
                <h2 class="accordion-header" [id]="'headingTest' + item?.id">
                  <button class="accordion-button" [ngClass]="{ collapsed: i != 0 }" type="button"
                    data-bs-toggle="collapse" [attr.data-bs-target]="'#collapseReport' + item?.id" aria-expanded="true"
                    [attr.aria-controls]="'collapseReport' + item?.id">
                    <div class="d-flex flex-wrap justify-content-between  gap-2 w-100">
                      <span class="d-flex align-items-center gap-2">
                        <i class="fas fa-plus-square-o fs-4"></i>
                        <strong>{{item?.name}}</strong>
                      </span>
                      <div class="d-flex align-items-center flex-wrap gap-3">

                      </div>
                    </div>
                  </button>
                </h2>
                <div [id]="'collapseReport' + item?.id" class="accordion-collapse collapse" [ngClass]="{ show: i == 0 }"
                  [attr.aria-labelledby]="'headingTest' + item?.id" data-bs-parent="#accordionExample">
                  <div class="accordion-body">
                    <ul class="p-0">
                      <li class="item position-relative lh-sm d-flex  gap-3 align-items-baseline flex-wrap">
                        <ng-container *ngIf="item?.reports?.length > 0; else noContent">
                          <ng-container *ngFor="let childItem of item?.reports;let index=index">
                            <a (click)="reportDetails(childItem)"
                              class="example-box d-flex align-items-center flex-column justify-content-center text-center gap-2">
                              <img src="assets/images/reports/report.png" alt="report" class="report">
                              <span class="content fs-8 fw-500">
                                {{childItem.name}}
                              </span>
                            </a>
                          </ng-container>
                        </ng-container>
                        <ng-template #noContent>
                          <div class="">
                            {{'general.no_content' | translate}}
                          </div>
                        </ng-template>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
        </ng-container>
        <ng-template #noData>
          <div class="not-found d-flex flex-column justify-content-center align-items-center">
            <ng-container>
              <img [src]="'notFoundImage'" onerror="this.src='assets/image/not-found.svg'" class="mb-3" alt="notFound">
              <p class="fw-500">
                {{'general.no_records_found' | translate}}
              </p>
            </ng-container>
            <ng-container *ngIf="false">
              <img [src]="'notFoundImage'" onerror="this.src='assets/image/not-found.svg'" class="mb-3" alt="notFound">
              <p class="fw-500">{{"general.no_search_result"|translate}}</p>
            </ng-container>
          </div>
        </ng-template>
      </div>
    </div>
  </ng-container>

</div>